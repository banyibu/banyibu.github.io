<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>C++学习笔记第十五章_面向对象程序设计 | 致良知，事上练</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="OOP: 概述相互关联但是有一些细微的差别的概念，则可以使用继承的方法刻画这些概念。面向对象程序设计的核心思想是数据抽象、继承和动态绑定。通过使用数据抽象，我们可以将类的接口与实现分离；使用继承我们可以定义相似的类型并对其进行相似关系建模；使用动态绑定，可以在一定程度上忽略相似类型的区别，而以统一的方式使用他们的对象。继承、基类、派生类虚函数：对于某些函数，基类希望它的派生类各自定义适合自身的版本">
<meta name="keywords" content="计算机语言,C++">
<meta property="og:type" content="article">
<meta property="og:title" content="C++学习笔记第十五章_面向对象程序设计">
<meta property="og:url" content="http://banyibu.com/2018/08/24/C-学习笔记第十五章-面向对象程序设计/index.html">
<meta property="og:site_name" content="致良知，事上练">
<meta property="og:description" content="OOP: 概述相互关联但是有一些细微的差别的概念，则可以使用继承的方法刻画这些概念。面向对象程序设计的核心思想是数据抽象、继承和动态绑定。通过使用数据抽象，我们可以将类的接口与实现分离；使用继承我们可以定义相似的类型并对其进行相似关系建模；使用动态绑定，可以在一定程度上忽略相似类型的区别，而以统一的方式使用他们的对象。继承、基类、派生类虚函数：对于某些函数，基类希望它的派生类各自定义适合自身的版本">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2018-08-26T06:16:43.257Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="C++学习笔记第十五章_面向对象程序设计">
<meta name="twitter:description" content="OOP: 概述相互关联但是有一些细微的差别的概念，则可以使用继承的方法刻画这些概念。面向对象程序设计的核心思想是数据抽象、继承和动态绑定。通过使用数据抽象，我们可以将类的接口与实现分离；使用继承我们可以定义相似的类型并对其进行相似关系建模；使用动态绑定，可以在一定程度上忽略相似类型的区别，而以统一的方式使用他们的对象。继承、基类、派生类虚函数：对于某些函数，基类希望它的派生类各自定义适合自身的版本">
  
    <link rel="alternate" href="/atom.xml" title="致良知，事上练" type="application/atom+xml">
  
  
    <link rel="icon" href="images/1260.gif">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/plugin/bganimation/bg.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <div class="outer">
        <div class="widget-wrap mobile-header">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <img class="avatar" src="https://upload-images.jianshu.io/upload_images/12985001-ffd8bc90edb9f3e9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
    <h2 class="author">般一不</h2>
    <h3 class="description"></h3>
    <div class="count-box">
      <a href="/archives"><div><strong>42</strong><br>文章</div></a>
      <a href="/categories"><div><strong>22</strong><br>分类</div></a>
      <a href="/tags"><div><strong>23</strong><br>标签</div></a>
    </div>
    <ul class="blog-link">
     
          <a href="/" title="Home">
            <li>主页</li>
          </a>
        
          <a href="/archives" title="Archives">
            <li>归档</li>
          </a>
        
          <a href="/categories" title="Categories">
            <li>分类</li>
          </a>
        
          <a href="/tags" title="Tags">
            <li>标签</li>
          </a>
        
          <a href="/about" title="About">
            <li>关于</li>
          </a>
        
          <a href="/sponsor" title="Sponsor">
            <li>投喂</li>
          </a>
        
    </ul>
  </div>
</div>

        <section id="main"><article id="post-C-学习笔记第十五章-面向对象程序设计" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/08/24/C-学习笔记第十五章-面向对象程序设计/" class="article-date">
  <time class="post-time" datetime="2018-08-24T13:34:29.000Z" itemprop="datePublished">
    <span class="post-month">8月</span><br/>
    <span class="post-day">24</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      C++学习笔记第十五章_面向对象程序设计
    </h1>
  

        <div>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/计算机基础/">计算机基础</a>,<a class="article-category-link" href="/categories/计算机基础/计算机语言/">计算机语言</a>,<a class="article-category-link" href="/categories/计算机基础/计算机语言/C-Primer/">C++ Primer</a>
  </div>

          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="OOP-概述"><a href="#OOP-概述" class="headerlink" title="OOP: 概述"></a>OOP: 概述</h3><p>相互关联但是有一些细微的差别的概念，则可以使用继承的方法刻画这些概念。<br>面向对象程序设计的核心思想是数据抽象、继承和动态绑定。通过使用数据抽象，我们可以将类的接口与实现分离；使用继承我们可以定义相似的类型并对其进行相似关系建模；使用动态绑定，可以在一定程度上忽略相似类型的区别，而以统一的方式使用他们的对象。<br>继承、基类、派生类<br>虚函数：对于某些函数，基类希望它的派生类各自定义适合自身的版本，此时基类就将这些函数申明为虚函数。<br>virtual override 动态绑定也称为运行时绑定。<br>在C++语言中，当我们使用基类的引用或指针调用一个虚函数时将发生动态绑定。<br><a id="more"></a></p>
<h3 id="定义基类和派生类"><a href="#定义基类和派生类" class="headerlink" title="定义基类和派生类"></a>定义基类和派生类</h3><p><strong>定义基类</strong><br>基类通常都应该定义一个虚析构函数，即使该函数不执行任何实际操作也是如此。<br>虚函数，virtual、覆盖override、受保护的protected<br><strong>定义派生类</strong><br>类派生列表，形式：<code>: private Quote, public Quote2</code><br>派生类中的虚函数，若派生类没有覆盖其基类中的某个虚函数，则派生类会直接继承其在基类中的版本。<br>派生类到基类的类型转换，基类对象的指针或引用可以指向其派生类对象。<br>可以把派生类对象或者派生类对象的引用用在需要基类引用的地方；同样的，我们可以把派生类对象的指针用在需要基类指针的地方。<br>每个类控制它自己成员的初始化。首先初始化基类部分，然后按照申明的顺序初始化派生类的成员。<br>派生类的作用域嵌套在基类的作用域之内。<br>基类定义的静态成员在整个继承体系中只存在唯一定义。静态成员遵循通用的访问控制规则。<br>派生类声明时不应该包含派生列表。<br>如果要使用某个类作为基类，则该类必须已经定义而非仅仅声明。<br>直接继承、间接继承；最终的派生类将包含它的直接基类的子对象以及每个间接基类的子对象。<br>防止被继承的类，在类名后加final关键字。<br><strong>类型转换与继承</strong><br>静态类型和动态类型。<br>不存在从基类向派生类的隐式类型转换。即使一个基类的指针或引用绑定在一个派生类对象上，我们也不能执行从基类向派生类的转换。<br>派生类和基类的自动类型转换只针对指针或引用类型有效，在派生类类型和基类类型之间不存在这样的类型转换。<br>当我们用一个派生类对象为一个基类对象初始化或赋值时，只有该派生类对象中的基类部分会被拷贝、移动和赋值，它的派生类部分被忽略掉。</p>
<h3 id="虚函数"><a href="#虚函数" class="headerlink" title="虚函数"></a>虚函数</h3><p>我必须为每一个虚函数都提供定义，而不管它是否被用到。<br>动态绑定只有当我们通过指针或引用调用虚函数时才会发生。<br>多态性：具有继承关系的多个类型称为多态性，引用或指针的静态类型和动态类型不同正是C++语言支持多态性的根本所在。<br>一个派生类的函数如果覆盖了某个继承而来的虚函数，则它的形参类型必须与被它覆盖的基类函数完全一致。<br><strong>final和override说明符</strong><br>override指明要覆盖基类中的虚函数，若覆盖不了，则编译器会报错。<br>可以把函数指定为final，则之后任何尝试覆盖的操作都会引发错误。<br>final和override出现在函数的形参列表以及尾置返回类型之后，且在const或引用修饰符之后。<br>如果虚函数使用默认形参，则基类和派生类中定义的默认实参最好一致。<br><strong>回避虚函数机制</strong><br>使用作用域运算符可以清屏其执行函数的某个特定的版本。<br>通常情况下，只有成员函数或友元中的代码才需要用作用域运算符来回避虚函数机制。列如：派生类中覆盖虚函数时需要基类版本的虚函数所执行的操作。</p>
<h3 id="抽象基类"><a href="#抽象基类" class="headerlink" title="抽象基类"></a>抽象基类</h3><p><strong>纯虚函数</strong><br>没有实际意义。纯虚函数无序定义，在函数体的位置书写=0，其中=0只能出现在类的内部的虚函数的申明处。<br>我们可以在类的外部为纯虚函数提供定义。<br>含有纯虚函数的类是抽象基类，我们不能创建抽象基类的对象。且其派生类一般需要覆盖抽象基类中的纯虚函数，否则其仍然是抽象类。<br>派生类构造函数只初始化它的直接基类。<br>重构负责重新设计类的体系以便将操作和/或数据从一个类转移到另一个类中。</p>
<h3 id="访问控制与继承"><a href="#访问控制与继承" class="headerlink" title="访问控制与继承"></a>访问控制与继承</h3><p>派生类的成员或友元只能通过派生类对象来访问基类的受保护成员。派生类对于一个基类对象中的受保护成员没有任何访问特权。<br>派生访问说明符的目的是控制派生类的用户对于基类成员的访问权限。派生类访问说明符还可以控制继承自派生类的新类的访问权限。<br><strong>派生类向基类转换的可访问性</strong><br>假设D继承自B：</p>
<ol>
<li>只有当D公有的继承B时，用户代码才能使用派生类向基类的转换，否则，不行；</li>
<li>不论D以什么方式继承B，D的成员函数和友元函数都能使用派生类向基类的转换；派生类向其直接基类的类型转换对派生类的成员和友元来说永远是可访问的。</li>
<li>如果D继承B的方式是公有的或受保护的，则D的派生类的成员和友元可以使用D想B的类型转换；反之，若是私有的方式，则不能使用；<br>对于代码中某个给定的节点来说，如果基类的公有成员是可访问的，则派生类向基类的类型转换也是可访问的；反之则不行。<br>友元关系不能继承；每个类负责控制各自成员的访问权限。<br><strong>改变个别成员的可访问性</strong><br>有时候我们需要改变派生类继承的某个名字的访问级别，通过using声明可以达到目的。<br>注意派生类只能为那些它可以访问的名字提供using声明。<br>默认的继承保护级别：class是私有的，struct是公有的。<h3 id="继承中的类作用域"><a href="#继承中的类作用域" class="headerlink" title="继承中的类作用域"></a>继承中的类作用域</h3>派生类的成员将隐藏同名的基类成员。可以通过作用域运算符来使用隐藏的成员。<br>除了覆盖继承而来的虚函数之外，派生类最好不要重用其他定义在基类中的名字。<br>名字查找先于类型检查，则表明定义在派生类中与基类同名的函数即便函数类型不同，也不会重载基类的函数而是覆盖基类的函数。<br>虚函数与作用域：假如基类与派生类的虚函数接受的参数不同，则我们就无法通过基类的指针或引用调用派生类的虚函数了。<br>覆盖重载的函数：成员函数无论是否是虚函数都能够被重载。派生类可以覆盖重载函数的0个或多个实例。如果派生类希望所有的重载版本对于它来说都是可见的，那么它需要覆盖所有版本或一个也不覆盖。<br>可以使用using申明语句简化这种重载覆盖。这样对派生类没有重新定义的重载版本的访问实际上是对using申明点的访问。<h3 id="构造函数与拷贝控制"><a href="#构造函数与拷贝控制" class="headerlink" title="构造函数与拷贝控制"></a>构造函数与拷贝控制</h3><strong>虚析构函数</strong><br>虚析构函数可以保证在动类型绑定下，销毁动态分配的对象时，调用正确的析构函数。<br>虚析构函数将阻止合成移动操作。<br><strong>合成拷贝控制与继承</strong><br>基类或派生类的合成拷贝控制成员的行为与其他合成的构造函数、赋值运算符或析构函数类型：它们对类本身的成员依次进行初始化、赋值或销毁的操作。此外，这些合成的成员还负责使用直接基类中对应的操作对一个对象的直接基类部分进行初始化、赋值或销毁操作。<br>派生类中删除的拷贝控制与基类的关系：</li>
<li>基类中默认的构造函数、拷贝构造函数、拷贝赋值运算符或析构函数是删除的，则派生类中对应的函数也是删除的；</li>
<li>如果基类中有一个不可访问或删除的析构函数，则派生类中合成的默认和拷贝构造函数时删除的；</li>
<li>编译器不会合成一个删除掉的移动操作；<br><strong>派生类的拷贝控制成员</strong><br>当派生类定义了拷贝或移动操作时，该操作赋值拷贝或移动包括基类部分成员在内的整个对象。<br>在默认情况下，基类默认构造函数初始化派生类对象的基类部分。如果我们想拷贝或移动基类部分，则必须在派生类的构造函数初始值列表中显示地使用基类的拷贝或移动构造函数。<br>派生类的赋值运算符也必须显示的为其基类部分赋值：<code>Base::operator=(rhs);</code><br>在构造函数和析构函数中调用虚函数：如果构造函数或析构函数调用了某个虚函数，则我们应该执行与构造函数或析构函数所属类型相对应的虚函数版本。<br><strong>继承的构造函数</strong><br>一个类只初始化其直接基类，同样，一个类也只继承其直接基类的构造函数。类不能继承默认、拷贝和移动构造函数。如果派生类没有直接定义这些构造函数，编译器将为派生类自动合成他们。<br>继承语句：<code>using Disc_quote::Disc_quote; //继承Disc_quote的构造函数</code>在构造函数继承中，派生类自己的成员将进行默认初始化<br>构造函数继承机制中，不会改变继承的构造函数的访问级别。其constexpr、explicit也都继承过来而不能在派生类中修改。<br>对于基类中的构造函数含有默认形参时，派生类并不会继承这些默认参数，而会获得多个继承的构造函数，其中每个构造函数分别省略掉一个默认形参。<br>如果基类有几个构造函数，则派生类继承时，两个例外：1. 若构造函数定义了和基类中的构造函数相同的类型的参数列表，则继承过来的构造函数被定义的替换；2. 默认、拷贝和移动构造函数不会被继承；<h3 id="容器与继承"><a href="#容器与继承" class="headerlink" title="容器与继承"></a>容器与继承</h3>容器中存放继承体系中的对象时，一般采取间接存储方式。因为不允许容器中保存不同类型的元素。<br>当派生类对象被赋值给基类对象时，其中的派生类部分将被“切掉”，因此容器和存在继承关系的类型无法兼容。<br>在容器中放置（智能）指针而非对象。<h3 id="文本查询程序再探"><a href="#文本查询程序再探" class="headerlink" title="文本查询程序再探"></a>文本查询程序再探</h3><strong>面向对象的解决方案</strong></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://banyibu.com/2018/08/24/C-学习笔记第十五章-面向对象程序设计/" data-id="cjoscurja0018lsv7y6ld6qwe" class="article-share-link">分享</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C++</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/计算机语言/">计算机语言</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/08/26/C-学习笔记第十六章—-模版与泛型编程/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">
        
          C++学习笔记第十六章—_模版与泛型编程
        
      </div>
    </a>
  
  
    <a href="/2018/08/23/C-学习笔记第十四章-重载运算与类型转换/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">C++学习笔记第十四章_重载运算与类型转换</div>
    </a>
  
</nav>

  
</article>






  <div id="comments" class="comments">
  	<div id="uyan_frame"></div>
  </div>
	<section class="livere" id="comments">
<!-- 来必力City版安装代码 -->
<div id="lv-container" data-id="city" data-uid="MTAyMC8zNzc5NS8xNDMyNg==">
<script type="text/javascript">
   (function(d, s) {
       var j, e = d.getElementsByTagName(s)[0];

       if (typeof LivereTower === 'function') { return; }

       j = d.createElement(s);
       j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
       j.async = true;

       e.parentNode.insertBefore(j, e);
   })(document, 'script');
</script>
<noscript>为正常使用来必力评论功能请激活JavaScript</noscript>
</div>
<!-- City版安装代码已完成 -->
</section>
	


</section>
        
          <aside id="sidebar">
  
    <div class="widget-wrap">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <h1 class="blog-title">致良知，事上练</h1>
    <h2 class="blog-subtitle">偏爱精神世界的更新换代，日日思之，日日求突破。</h2>
    <ul class="blog-link">
     
          <a href="/" title="Home">
            <li>主页</li>
          </a>
        
          <a href="/archives" title="Archives">
            <li>归档</li>
          </a>
        
          <a href="/categories" title="Categories">
            <li>分类</li>
          </a>
        
          <a href="/tags" title="Tags">
            <li>标签</li>
          </a>
        
          <a href="/about" title="About">
            <li>关于</li>
          </a>
        
          <a href="/sponsor" title="Sponsor">
            <li>投喂</li>
          </a>
        
    </ul>
  </div>
</div>

  
    <div class="widget-wrap">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <img class="avatar" src="https://upload-images.jianshu.io/upload_images/12985001-ffd8bc90edb9f3e9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
    <h2 class="author">般一不</h2>
    <h3 class="description"></h3>
    <div class="count-box">
      <a href="/archives"><div><strong>42</strong><br>文章</div></a>
      <a href="/categories"><div><strong>22</strong><br>分类</div></a>
      <a href="/tags"><div><strong>23</strong><br>标签</div></a>
    </div>



    <div class="social-link">
      
        <a class="hvr-bounce-in" href="http://github.com/banyibu" target="_blank" title="Github">
          Github
        </a>
      
    </div>

    <div class="friend-link">
      <h2>友情链接</h2>
      
        <a class="hvr-bounce-in" href="https://dadavision.cn" target="_blank" title="Dadavision">
          Dadavision
        </a>
      
        <a class="hvr-bounce-in" href="https://www.resultlv.com" target="_blank" title="Rwsultlv">
          Rwsultlv
        </a>
      
    </div>
  </div>
</div>



  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy;2017 - 2018 般一不<br>
      由<a href="http://hexo.io/" target="_blank">Hexo</a>强力驱动 | 
      主题-<a href="https://github.com/ShanaMaid/hexo-theme-shana">Ban Yibu</a>
      
    </div>
    
  </div>
</footer>
    </div>
    

<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="//apps.bdimg.com/libs/wow/0.1.6/wow.min.js"></script>
<script>
new WOW().init();
</script>   


  <link rel="stylesheet" href="/plugin/fancybox/jquery.fancybox.css">
  <script src="/plugin/fancybox/jquery.fancybox.pack.js"></script>



  <link rel="stylesheet" href="/plugin/galmenu/GalMenu.css">
  <script src="/plugin/galmenu/GalMenu.js"></script>
  <div class="GalMenu GalDropDown">
      <div class="circle" id="gal">
        <div class="ring">
          
            <a href="/" title="" class="menuItem">首页</a>
          
            <a href="/tags" title="" class="menuItem">标签</a>
          
            <a href="/categories" title="" class="menuItem">分类</a>
          
            <a href="/archives" title="" class="menuItem">归档</a>
          
            <a href="/about" title="" class="menuItem">关于</a>
          
            <a href="/sponsor" title="" class="menuItem">打赏</a>
          
        </div>
        
          <audio id="audio" src="#"></audio>
        
      </div> 
</div>
<div id="overlay" style="opacity: 1; cursor: pointer;"></div>
  <script type="text/javascript">var items = document.querySelectorAll('.menuItem');
    for (var i = 0,
    l = items.length; i < l; i++) {
      items[i].style.left = (50 - 35 * Math.cos( - 0.5 * Math.PI - 2 * (1 / l) * i * Math.PI)).toFixed(4) + "%";
      items[i].style.top = (50 + 35 * Math.sin( - 0.5 * Math.PI - 2 * (1 / l) * i * Math.PI)).toFixed(4) + "%"
    }</script>
<script type="text/javascript">
  $(document).ready(function() {
    $('body').GalMenu({
      'menu': 'GalDropDown'
    })
  });
</script>

  <section class="hidden-xs"> 
  <ul class="cb-slideshow"> 
    <li><span>苟利</span></li> 
    <li><span>国家</span></li> 
    <li><span>生死以</span></li> 
    <li><span>岂能</span></li> 
    <li><span>祸福</span></li> 
    <li><span>趋避之</span></li> 
  </ul>
</section>
<script src="/js/script.js"></script>



  </div>
</body>
</html>